

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Example Notebook for Keysight Infiniium Oscilloscopes &mdash; QCoDeS 0.1.11 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Example Notebook for Keysight Network Analyzers" href="Qcodes_example_with_Keysight_Network_Analyzer.html" />
    <link rel="prev" title="Qcodes example with HP8753D" href="Qcodes_example_with_HP8753D.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> QCoDeS
          

          
          </a>

          
            
            
              <div class="version">
                0.1.11
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../start/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../help.html">Get Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../community/index.html">Community Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dataset/index.html">DataSet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">Classes and Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/generated/qcodes.instrument_drivers.html">qcodes.instrument_drivers package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../roadmap.html">Qcodes project plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changes/index.html">Changelogs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../examples/index.html">Examples of using QCoDeS</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../examples/index.html#basic-examples">Basic examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/index.html#dataset">DataSet</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../examples/index.html#drivers">Drivers</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="QCodes example Rigol DG1062.html">Example notebook for the Rigol DG 1062 instrument</a></li>
<li class="toctree-l3"><a class="reference internal" href="QCodes example with SR830.html">QCoDeS example with SR830</a></li>
<li class="toctree-l3"><a class="reference internal" href="QCodes_example_with_SR86x_with_buffered_readout.html">Standford Research SR86x Lock-in Amplifier example (with buffered readout)</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example ATS_ONWORK.html">Qcodes example ATS_ONWORK</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Agilent 34400A.html">Qcodes example with Agilent 34400A</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Alazar 9360.html">Qcodes example with Alazar ATS 9360</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Decadac.html">Qcodes example with Decadac</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Ithaco.html">Qcodes example with Ithaco</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Keithley 2600.html">Qcodes example with Keithley 2600</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Keysight 33500B.html">Qcodes example with Keysight 33500B</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Lakeshore 325.html">Lakeshore 325 driver example</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Lakeshore 325.html#go-to-a-set-point">Go to a set point</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Lakeshore 336 or 372 - Bluefors T control.html">Example usage of the Lakeshore Model 372 to control the temperature of the Bluefors fridge</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Mercury iPS.html">QCodes example with Mercury iPS</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Minicircuits Switch boxes (USB-XSPDT).html">Example for Minicircuits Switch Boxes controlled via USB</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Newport AG-UC8.html">Qcodes example with Newport AG-UC8 piezo motion controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with QDac.html">Qcodes example with QDac</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with QDac_channels.html">Qcodes example with QDac_channels</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with R&amp;S HMC8043.html">Qcodes example with R&amp;S HMC 8043 Power supply</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Rigol DP832.html">Qcodes example with Rigol DP832 Power supply</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Rohde Schwarz RTO 1000 series Oscilloscope.html">Qcodes example with Rohde Schwarz RTO 1000 series Oscilloscope</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Rohde Schwarz ZNB.html">Qcodes example with Rohde Schwarz ZN20/8</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Signal Hound USB-SA124B.html">Frequency trace</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Signal Hound USB-SA124B.html#averaging">Averaging</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Signal Hound USB-SA124B.html#power">Power</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with TPS2012.html">QCoDeS Example with Tektronix TPS2012</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Tektronix AWG5014C.html">QCoDeS Example with Tektronix AWG5014</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Tektronix AWG70002A.html">QCoDeS Example with Tektronix AWG70002A</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Triton.html">Qcodes example with Triton</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with Yokogawa GS2xx.html">Qcodes example with Yokogawa GS200/GS210</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes example with ZI UHF-LI.html">QCoDeS Example with ZI UHF-LI</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes+broadbean_example_with_Tektronix_AWG5208.html">Qcodes+broadbean example with Tektronix AWG5208</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes+broadbean_example_with_Tektronix_AWG5208.html#part-3-play-it-and-capture-it-on-a-scope">Part 3: Play it and capture it on a scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes_example_with_AMI430.html">QCoDeS example with AMI430</a></li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes_example_with_HP8753D.html">Qcodes example with HP8753D</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Example Notebook for Keysight Infiniium Oscilloscopes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#importing-dependencies">Importing Dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="#create-the-instrument">Create the Instrument</a></li>
<li class="toctree-l4"><a class="reference internal" href="#prepare-trace">Prepare Trace</a></li>
<li class="toctree-l4"><a class="reference internal" href="#trigger-setup">Trigger Setup</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Qcodes_example_with_Keysight_Network_Analyzer.html">Example Notebook for Keysight Network Analyzers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/index.html#benchmarking">Benchmarking</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">QCoDeS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../examples/index.html">Examples of using QCoDeS</a> &raquo;</li>
        
      <li>Example Notebook for Keysight Infiniium Oscilloscopes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/_notebooks/driver_examples/Qcodes_example_with_Keysight_Infiniium_Oscilloscope.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="example-notebook-for-keysight-infiniium-oscilloscopes">
<h1>Example Notebook for Keysight Infiniium Oscilloscopes<a class="headerlink" href="#example-notebook-for-keysight-infiniium-oscilloscopes" title="Permalink to this headline">¶</a></h1>
<p>This notebook is indendet to give an overview over the functions
implemented in the QCoDeS driver for the Keysight Infinium
Oscilloscopes. The driver has been tested with the MSOS104A. Please note
that the oscilloscopes have plenty of more functions, that have not yet
been implemented. Feel free to contribute, request features or report
bugs.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
</pre></div>
</div>
<div class="section" id="importing-dependencies">
<h2>Importing Dependencies<a class="headerlink" href="#importing-dependencies" title="Permalink to this headline">¶</a></h2>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># python imports</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="c1"># third party</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># qcodes imports</span>
<span class="kn">import</span> <span class="nn">qcodes</span> <span class="k">as</span> <span class="nn">qc</span>
<span class="kn">import</span> <span class="nn">qcodes.instrument_drivers.Keysight.Infiniium</span> <span class="k">as</span> <span class="nn">MSO</span>

<span class="c1">#setup</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
<span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="create-the-instrument">
<h2>Create the Instrument<a class="headerlink" href="#create-the-instrument" title="Permalink to this headline">¶</a></h2>
<p>please insert the right address of your local scope (TCPIP…) you can
find the address with the NI-MAX app or within the network settings of
the scope.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mso</span> <span class="o">=</span> <span class="n">MSO</span><span class="o">.</span><span class="n">Infiniium</span><span class="p">(</span><span class="s1">&#39;MSO&#39;</span><span class="p">,</span> <span class="s1">&#39;TCPIP0::A-PCSERNO-47466::inst0::INSTR&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Connected</span> <span class="n">to</span><span class="p">:</span> <span class="n">KEYSIGHT</span> <span class="n">TECHNOLOGIES</span> <span class="n">MSOS104A</span> <span class="p">(</span><span class="n">serial</span><span class="p">:</span><span class="n">MY55510104</span><span class="p">,</span> <span class="n">firmware</span><span class="p">:</span><span class="mf">06.00</span><span class="o">.</span><span class="mi">00901</span><span class="p">)</span> <span class="ow">in</span> <span class="mf">0.04</span><span class="n">s</span>
</pre></div>
</div>
</div>
<div class="section" id="prepare-trace">
<h2>Prepare Trace<a class="headerlink" href="#prepare-trace" title="Permalink to this headline">¶</a></h2>
<p>In this example we are going to acquire the a 100kHz sine wave with 1Vpp
from a waveform generator at connected to channel 4 of the scope.
Therefore: - all the other channels are hidden - the time scale is
adjusted to allow for one periode - the time scale is adjusted to have
times starting from zero - the range of channel four is set to 1.2V</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
    <span class="n">mso</span><span class="o">.</span><span class="n">channels</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">mso</span><span class="o">.</span><span class="n">ch4</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">mso</span><span class="o">.</span><span class="n">timebase_range</span><span class="p">(</span><span class="mf">10e-3</span><span class="p">)</span>
<span class="n">mso</span><span class="o">.</span><span class="n">timebase_position</span><span class="p">(</span><span class="mf">5e-3</span><span class="p">)</span>
<span class="n">mso</span><span class="o">.</span><span class="n">ch4</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="mf">1.2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="trigger-setup">
<h2>Trigger Setup<a class="headerlink" href="#trigger-setup" title="Permalink to this headline">¶</a></h2>
<p>we want to use the input signal itself as the trigger. Therefor the
trigger is first enabled, the trigger source is set and we raise the
level to 0.4 V, just for avoiding a boring symmetric function.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mso</span><span class="o">.</span><span class="n">trigger_enabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">mso</span><span class="o">.</span><span class="n">trigger_edge_source</span><span class="p">(</span><span class="s1">&#39;CHANnel4&#39;</span><span class="p">)</span>
<span class="n">mso</span><span class="o">.</span><span class="n">trigger_edge_slope</span><span class="p">(</span><span class="s1">&#39;negative&#39;</span><span class="p">)</span>
<span class="n">mso</span><span class="o">.</span><span class="n">ch4</span><span class="o">.</span><span class="n">trigger_level</span><span class="p">(</span><span class="mf">0.4</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="data-acquisition">
<h3>Data Acquisition<a class="headerlink" href="#data-acquisition" title="Permalink to this headline">¶</a></h3>
<p>We are going to acquire 100k datapoints with 16bit depth over one
periode. So we need a sample rate of 10 MS/s.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nPoints</span> <span class="o">=</span> <span class="mi">100000</span><span class="p">;</span>
<span class="n">mso</span><span class="o">.</span><span class="n">acquire_points</span><span class="p">(</span><span class="n">nPoints</span><span class="p">)</span>
<span class="n">mso</span><span class="o">.</span><span class="n">acquire_sample_rate</span><span class="p">(</span><span class="n">nPoints</span><span class="o">/</span><span class="n">mso</span><span class="o">.</span><span class="n">timebase_range</span><span class="p">())</span>
</pre></div>
</div>
<p>It is important to remember to prepare the trace before acquisition.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mso</span><span class="o">.</span><span class="n">ch4</span><span class="o">.</span><span class="n">trace</span><span class="o">.</span><span class="n">prepare_curvedata</span><span class="p">()</span>
</pre></div>
</div>
<p>Then the parameter can be acquire as usual</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">qc</span><span class="o">.</span><span class="n">Measure</span><span class="p">(</span><span class="n">mso</span><span class="o">.</span><span class="n">ch4</span><span class="o">.</span><span class="n">trace</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DataSet</span><span class="p">:</span>
   <span class="n">location</span> <span class="o">=</span> <span class="s1">&#39;data/2017-10-18/#003_</span><span class="si">{name}</span><span class="s1">_13-49-46&#39;</span>
   <span class="o">&lt;</span><span class="n">Type</span><span class="o">&gt;</span>   <span class="o">|</span> <span class="o">&lt;</span><span class="n">array_id</span><span class="o">&gt;</span>      <span class="o">|</span> <span class="o">&lt;</span><span class="n">array</span><span class="o">.</span><span class="n">name</span><span class="o">&gt;</span> <span class="o">|</span> <span class="o">&lt;</span><span class="n">array</span><span class="o">.</span><span class="n">shape</span><span class="o">&gt;</span>
   <span class="n">Measured</span> <span class="o">|</span> <span class="n">MSO_chan4_trace</span> <span class="o">|</span> <span class="n">trace</span>        <span class="o">|</span> <span class="p">(</span><span class="mi">100000</span><span class="p">,)</span>
<span class="n">acquired</span> <span class="n">at</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">18</span> <span class="mi">13</span><span class="p">:</span><span class="mi">49</span><span class="p">:</span><span class="mi">47</span>
</pre></div>
</div>
<p>The data looks as expected (hopefully)</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plot</span> <span class="o">=</span> <span class="n">qc</span><span class="o">.</span><span class="n">MatPlot</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">arrays</span><span class="p">[</span><span class="s1">&#39;MSO_chan4_trace&#39;</span><span class="p">])</span>
</pre></div>
</div>
<img alt="../../_images/Qcodes_example_with_Keysight_Infiniium_Oscilloscope_17_0.png" src="../../_images/Qcodes_example_with_Keysight_Infiniium_Oscilloscope_17_0.png" />
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Qcodes_example_with_Keysight_Network_Analyzer.html" class="btn btn-neutral float-right" title="Example Notebook for Keysight Network Analyzers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Qcodes_example_with_HP8753D.html" class="btn btn-neutral" title="Qcodes example with HP8753D" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.1.11',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>