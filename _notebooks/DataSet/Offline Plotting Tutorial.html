

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Offline Plotting Tutorial &mdash; QCoDeS 0.1.11 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Paramtypes explained" href="Paramtypes explained.html" />
    <link rel="prev" title="Load old Data" href="Load old data.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> QCoDeS
          

          
          </a>

          
            
            
              <div class="version">
                0.1.11
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../start/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../help.html">Get Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../community/index.html">Community Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dataset/index.html">DataSet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">Classes and Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/generated/qcodes.instrument_drivers.html">qcodes.instrument_drivers package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../roadmap.html">Qcodes project plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changes/index.html">Changelogs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../examples/index.html">Examples of using QCoDeS</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../examples/index.html#basic-examples">Basic examples</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../examples/index.html#dataset">DataSet</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Benchmarking.html">Dataset Benchmarking</a></li>
<li class="toctree-l3"><a class="reference internal" href="Benchmarking.html#insert-many">Insert many</a></li>
<li class="toctree-l3"><a class="reference internal" href="Dataset Context Manager.html">The Context Manager aka the Measurement Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="Dataset Performance.html">DataSet Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="Implementing_doND_using_the_dataset.html">Implementing doND using the dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="Load old data.html">Load old Data</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Offline Plotting Tutorial</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#a-single-simple-1d-sweep">A single, simple 1D sweep</a></li>
<li class="toctree-l4"><a class="reference internal" href="#two-interleaved-1d-sweeps">Two interleaved 1D sweeps</a></li>
<li class="toctree-l4"><a class="reference internal" href="#regular-2d-rectangular-sweep-scan">Regular 2D rectangular sweep scan</a></li>
<li class="toctree-l4"><a class="reference internal" href="#warped-2d-rectangular-sweep-scan">Warped 2D rectangular sweep scan</a></li>
<li class="toctree-l4"><a class="reference internal" href="#interrupted-2d-scans-a-hole-in-the-cheese">Interrupted 2D scans (a hole in the cheese)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#plots-with-string-categorial-data">Plots with string (categorial) data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fancy-plotting">Fancy plotting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Paramtypes explained.html">Paramtypes explained</a></li>
<li class="toctree-l3"><a class="reference internal" href="Pedestrian example of subscribing to a DataSet.html">Pedestrian example of subscribing to a DataSet</a></li>
<li class="toctree-l3"><a class="reference internal" href="The Experiment Container.html">The Experiment Container</a></li>
<li class="toctree-l3"><a class="reference internal" href="example-creation.html">Experiment container and dasets</a></li>
<li class="toctree-l3"><a class="reference internal" href="example-creation.html#x-y-loop-example">x-y loop example</a></li>
<li class="toctree-l3"><a class="reference internal" href="example-creation.html#x-y-array-loop-example">x-y (array) loop example</a></li>
<li class="toctree-l3"><a class="reference internal" href="subscriber json exporter.html">Subscriber with JSON export</a></li>
<li class="toctree-l3"><a class="reference internal" href="Real_instruments/Example Measurements with Real Instruments.html">Example Measurements with Real Instruments</a></li>
<li class="toctree-l3"><a class="reference internal" href="Real_instruments/Example Measurements with Real Instruments.html#measurement-2-triangle-traces">Measurement 2: Triangle Traces</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/index.html#drivers">Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/index.html#benchmarking">Benchmarking</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">QCoDeS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../examples/index.html">Examples of using QCoDeS</a> &raquo;</li>
        
      <li>Offline Plotting Tutorial</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/_notebooks/DataSet/Offline Plotting Tutorial.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="offline-plotting-tutorial">
<h1>Offline Plotting Tutorial<a class="headerlink" href="#offline-plotting-tutorial" title="Permalink to this headline">Â¶</a></h1>
<p>The new dataset comes with a tool for offline (i.e. not live as the data
are coming in) plotting. This notebook explains how to use it and what
it is capable of plotting.</p>
<p>The tool in question is the function <code class="docutils literal notranslate"><span class="pre">plot_by_id</span></code>.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">matplotlib</span> <span class="n">notebook</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">import</span> <span class="nn">qcodes</span> <span class="k">as</span> <span class="nn">qc</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="k">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Any</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">qcodes</span> <span class="k">as</span> <span class="nn">qc</span>
<span class="kn">from</span> <span class="nn">qcodes</span> <span class="k">import</span> <span class="n">ParamSpec</span><span class="p">,</span> <span class="n">new_data_set</span><span class="p">,</span> <span class="n">new_experiment</span>
<span class="kn">from</span> <span class="nn">qcodes.dataset.plotting</span> <span class="k">import</span> <span class="n">plot_by_id</span>
<span class="kn">from</span> <span class="nn">qcodes.dataset.database</span> <span class="k">import</span> <span class="n">initialise_database</span>
</pre></div>
</div>
<p>First we make an experimental run, so that we have something to plot.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># if you just deleted your database file, you&#39;ll need to init a new one</span>
<span class="n">initialise_database</span><span class="p">()</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">new_experiment</span><span class="p">(</span><span class="s1">&#39;test_plot_by_id&#39;</span><span class="p">,</span> <span class="s1">&#39;nosample&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">test_plot_by_id</span><span class="c1">#nosample#6@./exp_container_tutorial.db</span>
<span class="o">------------------------------------------------------</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Make a handful of parameters to be used in the examples</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">ParamSpec</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;numeric&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Voltage&#39;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;V&#39;</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">ParamSpec</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;numeric&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Time&#39;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">ParamSpec</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;numeric&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Voltage&#39;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;V&#39;</span><span class="p">,</span> <span class="n">depends_on</span><span class="o">=</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<span class="n">y2</span> <span class="o">=</span> <span class="n">ParamSpec</span><span class="p">(</span><span class="s1">&#39;y2&#39;</span><span class="p">,</span> <span class="s1">&#39;numeric&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Current&#39;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">depends_on</span><span class="o">=</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">ParamSpec</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;numeric&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Majorana number&#39;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;Anyon&#39;</span><span class="p">,</span> <span class="n">depends_on</span><span class="o">=</span><span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">t</span><span class="p">])</span>
</pre></div>
</div>
<div class="section" id="a-single-simple-1d-sweep">
<h2>A single, simple 1D sweep<a class="headerlink" href="#a-single-simple-1d-sweep" title="Permalink to this headline">Â¶</a></h2>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data_set</span> <span class="o">=</span> <span class="n">new_data_set</span><span class="p">(</span><span class="s1">&#39;1D-sweep&#39;</span><span class="p">)</span>

<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">time</span>

<span class="n">xvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mf">3.4</span><span class="p">,</span> <span class="mf">4.2</span><span class="p">,</span> <span class="mi">250</span><span class="p">)</span>

<span class="c1"># shuffle randomly the values in order to test that plot</span>
<span class="c1"># that is to be created for this data is a correct line</span>
<span class="c1"># that does not depend on the order of the data</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">xvals</span><span class="p">)</span>

<span class="k">for</span> <span class="n">xnum</span> <span class="ow">in</span> <span class="n">xvals</span><span class="p">:</span>
    <span class="n">noise</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">()</span><span class="o">*</span><span class="mf">0.1</span>  <span class="c1"># multiplicative noise yeah yeah</span>
    <span class="n">data_set</span><span class="o">.</span><span class="n">add_result</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">xnum</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">xnum</span><span class="o">+</span><span class="n">noise</span><span class="p">)</span><span class="o">**</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="n">xnum</span><span class="o">+</span><span class="n">noise</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">})</span>

<span class="n">data_set</span><span class="o">.</span><span class="n">mark_complete</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CPU</span> <span class="n">times</span><span class="p">:</span> <span class="n">user</span> <span class="mi">228</span> <span class="n">ms</span><span class="p">,</span> <span class="n">sys</span><span class="p">:</span> <span class="mi">88</span> <span class="n">ms</span><span class="p">,</span> <span class="n">total</span><span class="p">:</span> <span class="mi">316</span> <span class="n">ms</span>
<span class="n">Wall</span> <span class="n">time</span><span class="p">:</span> <span class="mf">1.2</span> <span class="n">s</span>
</pre></div>
</div>
<p>Now let us plot that run. The function <code class="docutils literal notranslate"><span class="pre">plot_by_id</span></code> takes the
<code class="docutils literal notranslate"><span class="pre">run_id</span></code> of the run to plot as a positional argument. Furthermore, the
user may specify the matplotlib axis object (or list of axis objects) to
plot on.</p>
<p>If no axes are specified, the function creates new axis object(s). The
function returns a tuple of a list of the axes and a list of the
colorbar axes (just <code class="docutils literal notranslate"><span class="pre">None</span></code>s if there are no colorbars).</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">axes</span><span class="p">,</span> <span class="n">cbaxes</span> <span class="o">=</span> <span class="n">plot_by_id</span><span class="p">(</span><span class="n">data_set</span><span class="o">.</span><span class="n">run_id</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">IPython</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">Javascript</span> <span class="nb">object</span><span class="o">&gt;</span>
</pre></div>
</div>
<div id='ff50c437-5831-4dee-9fb5-dc2ff5c57551'></div><p>Using the returned axis, we can e.g. change the plot linewidth and
color. We refer to the matplotlib documentation for details on
matplotlib plot customization.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_ax</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">line</span> <span class="o">=</span> <span class="n">my_ax</span><span class="o">.</span><span class="n">lines</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">line</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="s1">&#39;#223344&#39;</span><span class="p">)</span>
<span class="n">line</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="rescaling-units-and-ticks">
<h3>Rescaling units and ticks<a class="headerlink" href="#rescaling-units-and-ticks" title="Permalink to this headline">Â¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">plot_by_id</span></code> can conveniently rescale the units and ticks of the plot.
For example, if one of the axes is voltage in units of <code class="docutils literal notranslate"><span class="pre">V</span></code> but the
values are in the range of millivolts, then <code class="docutils literal notranslate"><span class="pre">plot_by_id</span></code> will rescale
the ticks of the axis to show <code class="docutils literal notranslate"><span class="pre">5</span></code> instead of <code class="docutils literal notranslate"><span class="pre">0.005</span></code>, and the unit
in the axis label will be adjusted from <code class="docutils literal notranslate"><span class="pre">V</span></code> to <code class="docutils literal notranslate"><span class="pre">mV</span></code>.</p>
<p>This feature works with the relevant SI units, and some others. In case
the units of the parameter are not from that list, or are simply not
specified, ticks and labels are left intact.</p>
<p>The feature can be explicitly turned off by passing
<code class="docutils literal notranslate"><span class="pre">rescale_axes=False</span></code> to <code class="docutils literal notranslate"><span class="pre">plot_by_id</span></code>.</p>
<p>The following plot demontrates the feature.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">t_1</span> <span class="o">=</span> <span class="n">ParamSpec</span><span class="p">(</span><span class="s1">&#39;t_1&#39;</span><span class="p">,</span> <span class="s1">&#39;numeric&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Time&#39;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="n">v_1</span> <span class="o">=</span> <span class="n">ParamSpec</span><span class="p">(</span><span class="s1">&#39;v_1&#39;</span><span class="p">,</span> <span class="s1">&#39;numeric&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Gate voltage&#39;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;V&#39;</span><span class="p">,</span> <span class="n">depends_on</span><span class="o">=</span><span class="p">[</span><span class="n">t_1</span><span class="p">])</span>

<span class="n">data_set_tv</span> <span class="o">=</span> <span class="n">new_data_set</span><span class="p">(</span><span class="s1">&#39;1D-sweep&#39;</span><span class="p">)</span>

<span class="n">data_set_tv</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">t_1</span><span class="p">)</span>
<span class="n">data_set_tv</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">v_1</span><span class="p">)</span>

<span class="k">for</span> <span class="n">xnum</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mf">3.4</span><span class="p">,</span> <span class="mf">4.2</span><span class="p">,</span> <span class="mi">50</span><span class="p">):</span>
    <span class="n">noise</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">()</span><span class="o">*</span><span class="mf">0.1</span>
    <span class="n">data_set_tv</span><span class="o">.</span><span class="n">add_result</span><span class="p">({</span><span class="s1">&#39;t_1&#39;</span><span class="p">:</span> <span class="n">xnum</span><span class="o">*</span><span class="mf">1e-6</span><span class="p">,</span> <span class="s1">&#39;v_1&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">xnum</span><span class="o">+</span><span class="n">noise</span><span class="p">)</span><span class="o">**</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="n">xnum</span><span class="o">+</span><span class="n">noise</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mf">1e3</span><span class="p">})</span>

<span class="n">data_set_tv</span><span class="o">.</span><span class="n">mark_complete</span><span class="p">()</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plot_by_id</span><span class="p">(</span><span class="n">data_set_tv</span><span class="o">.</span><span class="n">run_id</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">IPython</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">Javascript</span> <span class="nb">object</span><span class="o">&gt;</span>
</pre></div>
</div>
<div id='d70bcce5-0376-4c24-b09a-8148bb166d3e'></div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">([</span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_subplots</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="n">at</span> <span class="mh">0x2aca696e8550</span><span class="o">&gt;</span><span class="p">],</span> <span class="p">[</span><span class="kc">None</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="two-interleaved-1d-sweeps">
<h2>Two interleaved 1D sweeps<a class="headerlink" href="#two-interleaved-1d-sweeps" title="Permalink to this headline">Â¶</a></h2>
<p>Now we make a run where two parameters are measured as a function of the
same parameter.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data_set</span> <span class="o">=</span> <span class="n">new_data_set</span><span class="p">(</span><span class="s1">&#39;interleaved-1Ds&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">y2</span><span class="p">)</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">250</span><span class="p">)</span>

<span class="k">for</span> <span class="n">xnum</span> <span class="ow">in</span> <span class="n">xvals</span><span class="p">:</span>
    <span class="n">data_set</span><span class="o">.</span><span class="n">add_result</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">xnum</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">xnum</span><span class="o">**</span><span class="mi">2</span><span class="p">})</span>
    <span class="n">data_set</span><span class="o">.</span><span class="n">add_result</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">xnum</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="o">-</span><span class="n">xnum</span><span class="o">**</span><span class="mi">2</span><span class="p">})</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">mark_complete</span><span class="p">()</span>
</pre></div>
</div>
<p>In such a situation, <code class="docutils literal notranslate"><span class="pre">plot_by_id</span></code> by default creates a new axis for
<strong>each</strong> dependent parameter. Sometimes this is not desirable; weâd
rather have both plots on the same axis. In such a case, we might pass
the same axis twice to <code class="docutils literal notranslate"><span class="pre">plot_by_id</span></code>.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">axes</span><span class="p">,</span> <span class="n">cbaxes</span> <span class="o">=</span> <span class="n">plot_by_id</span><span class="p">(</span><span class="n">data_set</span><span class="o">.</span><span class="n">run_id</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">IPython</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">Javascript</span> <span class="nb">object</span><span class="o">&gt;</span>
</pre></div>
</div>
<div id='30688428-9a5d-47b6-af64-676dfc92f5bc'></div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">IPython</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">Javascript</span> <span class="nb">object</span><span class="o">&gt;</span>
</pre></div>
</div>
<div id='f56d6bc1-3b5f-4acb-9b2a-2bc31f9f3340'></div><p>Letâs do that now</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">axes</span><span class="p">,</span> <span class="n">cbaxes</span> <span class="o">=</span> <span class="n">plot_by_id</span><span class="p">(</span><span class="n">data_set</span><span class="o">.</span><span class="n">run_id</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="p">[</span><span class="n">ax</span><span class="p">,</span> <span class="n">ax</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">IPython</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">Javascript</span> <span class="nb">object</span><span class="o">&gt;</span>
</pre></div>
</div>
<div id='634d78f0-c5ed-4d03-969e-4da28264f424'></div></div>
<div class="section" id="regular-2d-rectangular-sweep-scan">
<h2>Regular 2D rectangular sweep scan<a class="headerlink" href="#regular-2d-rectangular-sweep-scan" title="Permalink to this headline">Â¶</a></h2>
<p>For 2D plots, a colorbar is usually present. As mentioned above,
<code class="docutils literal notranslate"><span class="pre">plot_by_id</span></code> returns this.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data_set</span> <span class="o">=</span> <span class="n">new_data_set</span><span class="p">(</span><span class="s1">&#39;regular-2D-scan&#39;</span><span class="p">)</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">tvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">500</span><span class="p">,</span> <span class="mi">1500</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>

<span class="k">for</span> <span class="n">xv</span> <span class="ow">in</span> <span class="n">xvals</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">tv</span> <span class="ow">in</span> <span class="n">tvals</span><span class="p">:</span>
        <span class="c1"># just some arbitrary semi good looking function</span>
        <span class="n">zv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">xv</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="mf">0.001</span><span class="o">*</span><span class="n">tv</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.001</span><span class="o">*</span><span class="n">tv</span>
        <span class="n">data_set</span><span class="o">.</span><span class="n">add_result</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">xv</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="n">tv</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="n">zv</span><span class="p">})</span>

<span class="n">data_set</span><span class="o">.</span><span class="n">mark_complete</span><span class="p">()</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">axes</span><span class="p">,</span> <span class="n">colorbars</span> <span class="o">=</span> <span class="n">plot_by_id</span><span class="p">(</span><span class="n">data_set</span><span class="o">.</span><span class="n">run_id</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">IPython</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">Javascript</span> <span class="nb">object</span><span class="o">&gt;</span>
</pre></div>
</div>
<div id='60e83685-6e52-474d-8bdf-a82ee5c39b52'></div><p>A somewhat normal situation is that the colorbar was somehow
mislabelled. Using the returned colorbar, the label can be overwritten.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">colorbar</span> <span class="o">=</span> <span class="n">colorbars</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">colorbar</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s1">&#39;Correct science label&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="warped-2d-rectangular-sweep-scan">
<h2>Warped 2D rectangular sweep scan<a class="headerlink" href="#warped-2d-rectangular-sweep-scan" title="Permalink to this headline">Â¶</a></h2>
<p>A nice feature of the new dataset is that the grid may be warped; it
makes no difference. Here we warp the x axis of the previous scan to
increase the resolution in the right half plane.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data_set</span> <span class="o">=</span> <span class="n">new_data_set</span><span class="p">(</span><span class="s1">&#39;warped-2D-scan&#39;</span><span class="p">)</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">9</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">xvals</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
<span class="n">tvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">500</span><span class="p">,</span> <span class="mi">1500</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>

<span class="k">for</span> <span class="n">xv</span> <span class="ow">in</span> <span class="n">xvals</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">tv</span> <span class="ow">in</span> <span class="n">tvals</span><span class="p">:</span>
        <span class="c1"># just some arbitrary semi good looking function</span>
        <span class="n">zv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">xv</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="mf">0.001</span><span class="o">*</span><span class="n">tv</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.001</span><span class="o">*</span><span class="n">tv</span>
        <span class="n">data_set</span><span class="o">.</span><span class="n">add_result</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">xv</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="n">tv</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="n">zv</span><span class="p">})</span>

<span class="n">data_set</span><span class="o">.</span><span class="n">mark_complete</span><span class="p">()</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">axes</span><span class="p">,</span> <span class="n">cbaxes</span> <span class="o">=</span> <span class="n">plot_by_id</span><span class="p">(</span><span class="n">data_set</span><span class="o">.</span><span class="n">run_id</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">IPython</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">Javascript</span> <span class="nb">object</span><span class="o">&gt;</span>
</pre></div>
</div>
<div id='eb3a7be6-3707-496d-8baa-41905046df43'></div></div>
<div class="section" id="interrupted-2d-scans-a-hole-in-the-cheese">
<h2>Interrupted 2D scans (a hole in the cheese)<a class="headerlink" href="#interrupted-2d-scans-a-hole-in-the-cheese" title="Permalink to this headline">Â¶</a></h2>
<p>In case a sweep in interrupted, the entire grid will not be filled out.
This is also supported, in fact, any single rectangular hole is allowed</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data_set</span> <span class="o">=</span> <span class="n">new_data_set</span><span class="p">(</span><span class="s1">&#39;warped-with-hole-2D-scan&#39;</span><span class="p">)</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">9</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">xvals</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
<span class="n">tvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">500</span><span class="p">,</span> <span class="mi">1500</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>

<span class="c1"># define two small forbidden range functions</span>
<span class="k">def</span> <span class="nf">no_x</span><span class="p">(</span><span class="n">xv</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">xv</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">xv</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

<span class="k">def</span> <span class="nf">no_t</span><span class="p">(</span><span class="n">tv</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">tv</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">tv</span> <span class="o">&lt;</span> <span class="mi">450</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

<span class="k">for</span> <span class="n">xv</span> <span class="ow">in</span> <span class="n">xvals</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">tv</span> <span class="ow">in</span> <span class="n">tvals</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">no_x</span><span class="p">(</span><span class="n">xv</span><span class="p">)</span> <span class="ow">and</span> <span class="n">no_t</span><span class="p">(</span><span class="n">tv</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># just some arbitrary semi good looking function</span>
            <span class="n">zv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">xv</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="mf">0.001</span><span class="o">*</span><span class="n">tv</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.001</span><span class="o">*</span><span class="n">tv</span>
            <span class="n">data_set</span><span class="o">.</span><span class="n">add_result</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">xv</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="n">tv</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="n">zv</span><span class="p">})</span>

<span class="n">data_set</span><span class="o">.</span><span class="n">mark_complete</span><span class="p">()</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">axes</span><span class="p">,</span> <span class="n">colorbars</span> <span class="o">=</span> <span class="n">plot_by_id</span><span class="p">(</span><span class="n">data_set</span><span class="o">.</span><span class="n">run_id</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">IPython</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">Javascript</span> <span class="nb">object</span><span class="o">&gt;</span>
</pre></div>
</div>
<div id='8228b3bc-6097-4f78-bdd2-d78bfb97c76c'></div></div>
<div class="section" id="plots-with-string-categorial-data">
<h2>Plots with string (categorial) data<a class="headerlink" href="#plots-with-string-categorial-data" title="Permalink to this headline">Â¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">plot_by_id</span></code> support plotting categorial data (strings) as well. The
tick labels of the plots contain the string values.</p>
<p>Note that this feature requires <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> version <code class="docutils literal notranslate"><span class="pre">2.1</span></code>.</p>
<div class="section" id="d-cases">
<h3>2D cases<a class="headerlink" href="#d-cases" title="Permalink to this headline">Â¶</a></h3>
<div class="section" id="string-valued-indepentent-parameter">
<h4>String-valued indepentent parameter<a class="headerlink" href="#string-valued-indepentent-parameter" title="Permalink to this headline">Â¶</a></h4>
<p>Letâs use an example of a qubit measurement. These measurements are
quite complicated, but for the sake of this example we will abstract
away from all the complexity, and simulate the values of the relevant
parameters.</p>
<p>In this example, the string-valued parmater is independent.</p>
<p>Note that the order of string values on the axis of the plot is exactly
the same as the order with which the values were added to the dataset.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">gen_random_unit_vectors</span><span class="p">(</span><span class="n">dims</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate an array of a given numer of random unit vectors of given</span>
<span class="sd">    dimensions.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">vecs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">dims</span><span class="p">))</span>
    <span class="n">mags</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">vecs</span><span class="p">,</span> <span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">vecs</span> <span class="o">/</span> <span class="n">mags</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">]</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># 2-qubit correlator</span>
<span class="n">two_q_corr_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;X_X&#39;</span><span class="p">,</span> <span class="s1">&#39;X_Y&#39;</span><span class="p">,</span> <span class="s1">&#39;X_Z&#39;</span><span class="p">,</span> <span class="s1">&#39;X_I&#39;</span><span class="p">,</span> <span class="s1">&#39;Y_Y&#39;</span><span class="p">,</span> <span class="s1">&#39;Y_Z&#39;</span><span class="p">,</span> <span class="s1">&#39;Y_I&#39;</span><span class="p">,</span> <span class="s1">&#39;Z_Z&#39;</span><span class="p">,</span> <span class="s1">&#39;Z_I&#39;</span><span class="p">]</span>
<span class="c1">#                      note the &gt;&gt;&gt; paramtype &lt;&lt;&lt; it is important</span>
<span class="c1">#                                   \/ \/ \/</span>
<span class="n">two_q_corr</span> <span class="o">=</span> <span class="n">ParamSpec</span><span class="p">(</span><span class="s1">&#39;two_q_corr&#39;</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;2-qubit correlator&#39;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="c1"># The values of the qubit state correspond to 2-qubit correlators</span>
<span class="n">val</span> <span class="o">=</span> <span class="n">ParamSpec</span><span class="p">(</span><span class="s1">&#39;val&#39;</span><span class="p">,</span> <span class="s1">&#39;numeric&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Component value&#39;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">depends_on</span><span class="o">=</span><span class="p">[</span><span class="n">two_q_corr</span><span class="p">])</span>

<span class="n">data_set</span> <span class="o">=</span> <span class="n">new_data_set</span><span class="p">(</span><span class="s1">&#39;sweep-with-strings&#39;</span><span class="p">)</span>

<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">two_q_corr</span><span class="p">)</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>

<span class="n">values</span> <span class="o">=</span> <span class="n">gen_random_unit_vectors</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">two_q_corr_values</span><span class="p">),</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">for</span> <span class="n">two_q_corr_id</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">two_q_corr_values</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
    <span class="n">data_set</span><span class="o">.</span><span class="n">add_result</span><span class="p">({</span><span class="s1">&#39;two_q_corr&#39;</span><span class="p">:</span> <span class="n">two_q_corr_id</span><span class="p">,</span> <span class="s1">&#39;val&#39;</span><span class="p">:</span> <span class="n">value</span><span class="p">})</span>

<span class="n">data_set</span><span class="o">.</span><span class="n">mark_complete</span><span class="p">()</span>

<span class="n">run_id_strings</span> <span class="o">=</span> <span class="n">data_set</span><span class="o">.</span><span class="n">run_id</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plot_by_id</span><span class="p">(</span><span class="n">run_id_strings</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">IPython</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">Javascript</span> <span class="nb">object</span><span class="o">&gt;</span>
</pre></div>
</div>
<div id='20109b1e-3d5f-4106-becd-5d79ed275b12'></div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">([</span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_subplots</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="n">at</span> <span class="mh">0x2aca698d6f60</span><span class="o">&gt;</span><span class="p">],</span> <span class="p">[</span><span class="kc">None</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="section" id="string-valued-dependent-value">
<h4>String-valued dependent value<a class="headerlink" href="#string-valued-dependent-value" title="Permalink to this headline">Â¶</a></h4>
<p>In this example, letâs plot the case where string-valued parameter is
the dependent one.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">numeric_param</span> <span class="o">=</span> <span class="n">ParamSpec</span><span class="p">(</span><span class="s1">&#39;numeric_param&#39;</span><span class="p">,</span> <span class="s1">&#39;numeric&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Numeric value&#39;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;J&#39;</span><span class="p">)</span>

<span class="n">string_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;X_X&#39;</span><span class="p">,</span> <span class="s1">&#39;X_Y&#39;</span><span class="p">,</span> <span class="s1">&#39;X_Z&#39;</span><span class="p">,</span> <span class="s1">&#39;X_I&#39;</span><span class="p">,</span> <span class="s1">&#39;Y_Y&#39;</span><span class="p">,</span> <span class="s1">&#39;Y_Z&#39;</span><span class="p">,</span> <span class="s1">&#39;Y_I&#39;</span><span class="p">,</span> <span class="s1">&#39;Z_Z&#39;</span><span class="p">,</span> <span class="s1">&#39;Z_I&#39;</span><span class="p">]</span>
<span class="n">string_param</span> <span class="o">=</span> <span class="n">ParamSpec</span><span class="p">(</span><span class="s1">&#39;string_param&#39;</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;String parameter&#39;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">depends_on</span><span class="o">=</span><span class="p">[</span><span class="n">numeric_param</span><span class="p">])</span>

<span class="n">data_set</span> <span class="o">=</span> <span class="n">new_data_set</span><span class="p">(</span><span class="s1">&#39;sweep-with-strings&#39;</span><span class="p">)</span>

<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">numeric_param</span><span class="p">)</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">string_param</span><span class="p">)</span>

<span class="n">numeric_values</span> <span class="o">=</span> <span class="n">gen_random_unit_vectors</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">string_values</span><span class="p">),</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">for</span> <span class="n">string_value</span><span class="p">,</span> <span class="n">numeric_value</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">string_values</span><span class="p">,</span> <span class="n">numeric_values</span><span class="p">):</span>
    <span class="n">data_set</span><span class="o">.</span><span class="n">add_result</span><span class="p">({</span><span class="s1">&#39;string_param&#39;</span><span class="p">:</span> <span class="n">string_value</span><span class="p">,</span> <span class="s1">&#39;numeric_param&#39;</span><span class="p">:</span> <span class="n">numeric_value</span><span class="p">})</span>

<span class="n">data_set</span><span class="o">.</span><span class="n">mark_complete</span><span class="p">()</span>

<span class="n">run_id_strings_dependent</span> <span class="o">=</span> <span class="n">data_set</span><span class="o">.</span><span class="n">run_id</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plot_by_id</span><span class="p">(</span><span class="n">run_id_strings_dependent</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">IPython</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">Javascript</span> <span class="nb">object</span><span class="o">&gt;</span>
</pre></div>
</div>
<div id='a47cd818-8e41-438b-9ab7-5fed844b9225'></div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">([</span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_subplots</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="n">at</span> <span class="mh">0x2aca6992fac8</span><span class="o">&gt;</span><span class="p">],</span> <span class="p">[</span><span class="kc">None</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="d-case">
<h3>3D case<a class="headerlink" href="#d-case" title="Permalink to this headline">Â¶</a></h3>
<p>At the moment, <strong>3D plotting</strong> of data that has <strong>string-valued</strong>
components is <strong>not fully supported.</strong> Moreover, choosing an apropriate
plot type for such cases will be revisited.</p>
<div class="section" id="string-valued-independent-parameter">
<h4>String-valued independent parameter<a class="headerlink" href="#string-valued-independent-parameter" title="Permalink to this headline">Â¶</a></h4>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># 2-qubit correlator</span>
<span class="n">two_q_corr_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;X_X&#39;</span><span class="p">,</span> <span class="s1">&#39;X_Y&#39;</span><span class="p">,</span> <span class="s1">&#39;X_Z&#39;</span><span class="p">,</span> <span class="s1">&#39;X_I&#39;</span><span class="p">,</span> <span class="s1">&#39;Y_Y&#39;</span><span class="p">,</span> <span class="s1">&#39;Y_Z&#39;</span><span class="p">,</span> <span class="s1">&#39;Y_I&#39;</span><span class="p">,</span> <span class="s1">&#39;Z_Z&#39;</span><span class="p">,</span> <span class="s1">&#39;Z_I&#39;</span><span class="p">]</span>
<span class="c1">#                      note the &gt;&gt;&gt; paramtype &lt;&lt;&lt; it is important</span>
<span class="c1">#                                   \/ \/ \/</span>
<span class="n">two_q_corr</span> <span class="o">=</span> <span class="n">ParamSpec</span><span class="p">(</span><span class="s1">&#39;two_q_corr&#39;</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;2-qubit correlator&#39;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="c1"># Let&#39;s use the number of the measurement as a 2nd dimension</span>
<span class="n">meas_number</span> <span class="o">=</span> <span class="n">ParamSpec</span><span class="p">(</span><span class="s1">&#39;meas_number&#39;</span><span class="p">,</span> <span class="s1">&#39;numeric&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Measurement number&#39;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;#&#39;</span><span class="p">)</span>

<span class="c1"># The values of the qubit state correspond to 2-qubit correlators</span>
<span class="n">val</span> <span class="o">=</span> <span class="n">ParamSpec</span><span class="p">(</span><span class="s1">&#39;val&#39;</span><span class="p">,</span> <span class="s1">&#39;numeric&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Component value&#39;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
                <span class="n">depends_on</span><span class="o">=</span><span class="p">[</span><span class="n">two_q_corr</span><span class="p">,</span> <span class="n">meas_number</span><span class="p">])</span>

<span class="n">data_set</span> <span class="o">=</span> <span class="n">new_data_set</span><span class="p">(</span><span class="s1">&#39;sweep-with-strings&#39;</span><span class="p">)</span>

<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">two_q_corr</span><span class="p">)</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">meas_number</span><span class="p">)</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>

<span class="n">n_measurements</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">values</span> <span class="o">=</span> <span class="n">gen_random_unit_vectors</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">two_q_corr_values</span><span class="p">),</span> <span class="n">n_measurements</span><span class="p">)</span>

<span class="k">for</span> <span class="n">n_meas</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_measurements</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">two_q_corr_id</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">two_q_corr_values</span><span class="p">,</span> <span class="n">values</span><span class="p">[</span><span class="n">n_meas</span><span class="p">]):</span>
        <span class="n">data_set</span><span class="o">.</span><span class="n">add_result</span><span class="p">({</span><span class="s1">&#39;two_q_corr&#39;</span><span class="p">:</span> <span class="n">two_q_corr_id</span><span class="p">,</span> <span class="s1">&#39;val&#39;</span><span class="p">:</span> <span class="n">value</span><span class="p">,</span> <span class="s1">&#39;meas_number&#39;</span><span class="p">:</span> <span class="n">n_meas</span><span class="p">})</span>

<span class="n">data_set</span><span class="o">.</span><span class="n">mark_complete</span><span class="p">()</span>

<span class="n">run_id_3d_strings</span> <span class="o">=</span> <span class="n">data_set</span><span class="o">.</span><span class="n">run_id</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plot_by_id</span><span class="p">(</span><span class="n">run_id_3d_strings</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">IPython</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">Javascript</span> <span class="nb">object</span><span class="o">&gt;</span>
</pre></div>
</div>
<div id='4c402034-7950-42d6-a83e-2d1e86fa9c59'></div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">([</span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_subplots</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="n">at</span> <span class="mh">0x2aca6996f080</span><span class="o">&gt;</span><span class="p">],</span>
 <span class="p">[</span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">colorbar</span><span class="o">.</span><span class="n">Colorbar</span> <span class="n">at</span> <span class="mh">0x2aca699c2748</span><span class="o">&gt;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="section" id="string-valued-dependent-parameter">
<h4>String-valued dependent parameter<a class="headerlink" href="#string-valued-dependent-parameter" title="Permalink to this headline">Â¶</a></h4>
<p>This case may produce <strong>incorrect</strong> plots, see an example below.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s use the number of the measurement as a 2nd dimension</span>
<span class="n">meas_number</span> <span class="o">=</span> <span class="n">ParamSpec</span><span class="p">(</span><span class="s1">&#39;meas_number&#39;</span><span class="p">,</span> <span class="s1">&#39;numeric&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Measurement number&#39;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;#&#39;</span><span class="p">)</span>

<span class="c1"># The values of the qubit state correspond to 2-qubit correlators</span>
<span class="n">val</span> <span class="o">=</span> <span class="n">ParamSpec</span><span class="p">(</span><span class="s1">&#39;val&#39;</span><span class="p">,</span> <span class="s1">&#39;numeric&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Component value&#39;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="c1"># 2-qubit correlator</span>
<span class="n">two_q_corr_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;X_X&#39;</span><span class="p">,</span> <span class="s1">&#39;X_Y&#39;</span><span class="p">,</span> <span class="s1">&#39;X_Z&#39;</span><span class="p">,</span> <span class="s1">&#39;X_I&#39;</span><span class="p">,</span> <span class="s1">&#39;Y_Y&#39;</span><span class="p">,</span> <span class="s1">&#39;Y_Z&#39;</span><span class="p">,</span> <span class="s1">&#39;Y_I&#39;</span><span class="p">,</span> <span class="s1">&#39;Z_Z&#39;</span><span class="p">,</span> <span class="s1">&#39;Z_I&#39;</span><span class="p">]</span>
<span class="c1">#                      note the &gt;&gt;&gt; paramtype &lt;&lt;&lt; it is important</span>
<span class="n">two_q_corr</span> <span class="o">=</span> <span class="n">ParamSpec</span><span class="p">(</span><span class="s1">&#39;two_q_corr&#39;</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;2-qubit correlator&#39;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
                       <span class="n">depends_on</span><span class="o">=</span><span class="p">[</span><span class="n">val</span><span class="p">,</span> <span class="n">meas_number</span><span class="p">])</span>

<span class="n">data_set</span> <span class="o">=</span> <span class="n">new_data_set</span><span class="p">(</span><span class="s1">&#39;sweep-with-strings&#39;</span><span class="p">)</span>

<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">meas_number</span><span class="p">)</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">two_q_corr</span><span class="p">)</span>

<span class="n">n_measurements</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">values</span> <span class="o">=</span> <span class="n">gen_random_unit_vectors</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">two_q_corr_values</span><span class="p">),</span> <span class="n">n_measurements</span><span class="p">)</span>

<span class="k">for</span> <span class="n">n_meas</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_measurements</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">two_q_corr_id</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">two_q_corr_values</span><span class="p">,</span> <span class="n">values</span><span class="p">[</span><span class="n">n_meas</span><span class="p">]):</span>
        <span class="n">data_set</span><span class="o">.</span><span class="n">add_result</span><span class="p">({</span><span class="s1">&#39;two_q_corr&#39;</span><span class="p">:</span> <span class="n">two_q_corr_id</span><span class="p">,</span> <span class="s1">&#39;val&#39;</span><span class="p">:</span> <span class="n">value</span><span class="p">,</span> <span class="s1">&#39;meas_number&#39;</span><span class="p">:</span> <span class="n">n_meas</span><span class="p">})</span>

<span class="n">data_set</span><span class="o">.</span><span class="n">mark_complete</span><span class="p">()</span>

<span class="n">run_id_3d_strings_dep</span> <span class="o">=</span> <span class="n">data_set</span><span class="o">.</span><span class="n">run_id</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plot_by_id</span><span class="p">(</span><span class="n">run_id_3d_strings_dep</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">IPython</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">Javascript</span> <span class="nb">object</span><span class="o">&gt;</span>
</pre></div>
</div>
<div id='d5f96869-19a5-473b-9232-efae34dd6ab9'></div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">([</span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">_subplots</span><span class="o">.</span><span class="n">AxesSubplot</span> <span class="n">at</span> <span class="mh">0x2aca6995aba8</span><span class="o">&gt;</span><span class="p">],</span>
 <span class="p">[</span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">colorbar</span><span class="o">.</span><span class="n">Colorbar</span> <span class="n">at</span> <span class="mh">0x2aca69a1fcf8</span><span class="o">&gt;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="fancy-plotting">
<h2>Fancy plotting<a class="headerlink" href="#fancy-plotting" title="Permalink to this headline">Â¶</a></h2>
<p>As a final example, let us combine several plots in one window.</p>
<p>We first make a little grid of axes.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">figaxes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">IPython</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">Javascript</span> <span class="nb">object</span><span class="o">&gt;</span>
</pre></div>
</div>
<div id='3c6dab71-fbae-420f-9dcf-1cdb1fbaa860'></div><p>Next, we make some runs (shamelessly copy-pasting from above).</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># First run</span>

<span class="n">data_set</span> <span class="o">=</span> <span class="n">new_data_set</span><span class="p">(</span><span class="s1">&#39;1D-sweep&#39;</span><span class="p">)</span>

<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="n">xvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mf">3.4</span><span class="p">,</span> <span class="mf">4.2</span><span class="p">,</span> <span class="mi">250</span><span class="p">)</span>

<span class="k">for</span> <span class="n">xnum</span> <span class="ow">in</span> <span class="n">xvals</span><span class="p">:</span>
    <span class="n">noise</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">()</span><span class="o">*</span><span class="mf">0.1</span>  <span class="c1"># multiplicative noise yeah yeah</span>
    <span class="n">data_set</span><span class="o">.</span><span class="n">add_result</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">xnum</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">xnum</span><span class="o">+</span><span class="n">noise</span><span class="p">)</span><span class="o">**</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="n">xnum</span><span class="o">+</span><span class="n">noise</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">})</span>

<span class="n">data_set</span><span class="o">.</span><span class="n">mark_complete</span><span class="p">()</span>
<span class="n">rid1</span> <span class="o">=</span> <span class="n">data_set</span><span class="o">.</span><span class="n">run_id</span>

<span class="c1"># Second run</span>

<span class="n">data_set</span> <span class="o">=</span> <span class="n">new_data_set</span><span class="p">(</span><span class="s1">&#39;2D-sweep&#39;</span><span class="p">)</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">data_set</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>

<span class="n">xvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">tvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">500</span><span class="p">,</span> <span class="mi">1500</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
<span class="k">for</span> <span class="n">xv</span> <span class="ow">in</span> <span class="n">xvals</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">tv</span> <span class="ow">in</span> <span class="n">tvals</span><span class="p">:</span>
        <span class="c1"># just some arbitrary semi good looking function</span>
        <span class="n">zv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">xv</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="mf">0.001</span><span class="o">*</span><span class="n">tv</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.001</span><span class="o">*</span><span class="n">tv</span>
        <span class="n">data_set</span><span class="o">.</span><span class="n">add_result</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">xv</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="n">tv</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="n">zv</span><span class="p">})</span>

<span class="n">data_set</span><span class="o">.</span><span class="n">mark_complete</span><span class="p">()</span>

<span class="n">rid2</span> <span class="o">=</span> <span class="n">data_set</span><span class="o">.</span><span class="n">run_id</span>
</pre></div>
</div>
<p>And then we put them just where we please.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">axes</span><span class="p">,</span> <span class="n">colorbars</span> <span class="o">=</span> <span class="n">plot_by_id</span><span class="p">(</span><span class="n">rid1</span><span class="p">,</span> <span class="n">figaxes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">axes</span><span class="p">,</span> <span class="n">colorbars</span> <span class="o">=</span> <span class="n">plot_by_id</span><span class="p">(</span><span class="n">rid2</span><span class="p">,</span> <span class="n">figaxes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">colorbars</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that if we want to replot on an axis with a colorbar we probably
also want to reuse the colorbar</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">axes</span><span class="p">,</span> <span class="n">colorbars</span> <span class="o">=</span> <span class="n">plot_by_id</span><span class="p">(</span><span class="n">rid2</span><span class="p">,</span> <span class="n">figaxes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">colorbars</span><span class="p">)</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Paramtypes explained.html" class="btn btn-neutral float-right" title="Paramtypes explained" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Load old data.html" class="btn btn-neutral" title="Load old Data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.1.11',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>