

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Benchmark of Keysight 34465A &mdash; QCoDeS 0.1.11 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Benchmark of waveform upload to Tektronix AWG70002A" href="Benchmark of waveform upload to AWG70002A.html" />
    <link rel="prev" title="Benchmark" href="Benchmark of Keithley 2600 lua script versus set-get.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> QCoDeS
          

          
          </a>

          
            
            
              <div class="version">
                0.1.11
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../start/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../help.html">Get Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../community/index.html">Community Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dataset/index.html">DataSet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">Classes and Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/generated/qcodes.instrument_drivers.html">qcodes.instrument_drivers package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../roadmap.html">Qcodes project plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changes/index.html">Changelogs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Examples of using QCoDeS</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#basic-examples">Basic examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#dataset">DataSet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#plotting">Plotting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#drivers">Drivers</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#benchmarking">Benchmarking</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Agilent 34411A versus Keysight 34465A.html">Agilent 34411A versus Keysight 34465A</a></li>
<li class="toctree-l3"><a class="reference internal" href="Benchmark of Keithley 2600 lua script versus set-get.html">Benchmark</a></li>
<li class="toctree-l3"><a class="reference internal" href="Benchmark of Keithley 2600 lua script versus set-get.html#NPLC-=-0.5,-N-=-100">NPLC = 0.5, N = 100</a></li>
<li class="toctree-l3"><a class="reference internal" href="Benchmark of Keithley 2600 lua script versus set-get.html#NPLC-=-0.5,-N-=-1000">NPLC = 0.5, N = 1000</a></li>
<li class="toctree-l3"><a class="reference internal" href="Benchmark of Keithley 2600 lua script versus set-get.html#NPLC-=-0.05,-N-=-1000">NPLC = 0.05, N = 1000</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Benchmark of Keysight 34465A</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Pre-benchmark-setting">Pre-benchmark setting</a></li>
<li class="toctree-l4"><a class="reference internal" href="#N-=-1000,-set-get">N = 1000, set-get</a></li>
<li class="toctree-l4"><a class="reference internal" href="#N-=-1000,-set-software-triggered">N = 1000, set-software triggered</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Results-summary">Results summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="Benchmark of waveform upload to AWG70002A.html">Benchmark of waveform upload to Tektronix AWG70002A</a></li>
<li class="toctree-l3"><a class="reference internal" href="Benchmark of waveform upload to Tektronix AWG5014C.html">Benchmark of waveform upload to Tektronix AWG5014C</a></li>
<li class="toctree-l3"><a class="reference internal" href="QDac and Keysight 34465 sync and buffer.html">QDac and Keysight 34465 sync and buffer</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">QCoDeS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Examples of using QCoDeS</a> &raquo;</li>
        
      <li>Benchmark of Keysight 34465A</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/examples/benchmarking/Benchmark of Keysight DMM software trigger vs set-get.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 8ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="Benchmark-of-Keysight-34465A">
<h1>Benchmark of Keysight 34465A<a class="headerlink" href="#Benchmark-of-Keysight-34465A" title="Permalink to this headline">¶</a></h1>
<p>We benchmark the acquisition of N voltages from a QDac on a Keysight
DMM. Two acquisition modes are tested; the “classical” set voltage/get
voltage and a set voltage / send software trigger method.</p>
<p>The former method is cast as a standard QCoDeS measurement, whereas the
latter is just the raw commands. If anything, this should add a bit of
extra overhead to the first method.</p>
<p>The QDac sweeps a voltage from 0 V to 1 V.</p>
<p>Conclusion: there is <strong>no</strong> speed-up.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">qcodes</span> <span class="k">as</span> <span class="nn">qc</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">qcodes.instrument_drivers.Keysight.Keysight_34465A</span> <span class="k">import</span> <span class="n">Keysight_34465A</span>
<span class="kn">from</span> <span class="nn">qcodes.instrument_drivers.QDev.QDac</span> <span class="k">import</span> <span class="n">QDac</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dmm</span> <span class="o">=</span> <span class="n">Keysight_34465A</span><span class="p">(</span><span class="s1">&#39;dmm&#39;</span><span class="p">,</span> <span class="s1">&#39;TCPIP0::K-000000-00000.local::hislip0::INSTR&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Connected to: Keysight Technologies 34465A (serial:MY54505281, firmware:A.02.14-02.40-02.14-00.49-02-01) in 7.14s
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">qdac</span> <span class="o">=</span> <span class="n">QDac</span><span class="p">(</span><span class="s1">&#39;qdac&#39;</span><span class="p">,</span> <span class="s1">&#39;ASRL7::INSTR&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="Pre-benchmark-setting">
<h2>Pre-benchmark setting<a class="headerlink" href="#Pre-benchmark-setting" title="Permalink to this headline">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">ap_time</span> <span class="o">=</span> <span class="mf">1e-3</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">NPLC</span><span class="p">(</span><span class="mf">0.06</span><span class="p">)</span>  <span class="c1"># aperture time of 1 ms</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Voltage range of 1 V</span>
<span class="n">qdac</span><span class="o">.</span><span class="n">ch01_v</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="N-=-1000,-set-get">
<h2>N = 1000, set-get<a class="headerlink" href="#N-=-1000,-set-get" title="Permalink to this headline">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># prepare the DMM for get-set mode</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">trigger_source</span><span class="p">(</span><span class="s1">&#39;IMM&#39;</span><span class="p">)</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">sample_count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">trigger_count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%%time</span>it

<span class="n">N</span> <span class="o">=</span> <span class="mi">1000</span>

<span class="c1"># remember to turn off the display for better speed</span>
<span class="n">dmm</span><span class="o">.</span><span class="n">display_text</span><span class="p">(</span><span class="s1">&#39;Running set-get for </span><span class="si">{}</span><span class="s1"> points&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">N</span><span class="p">))</span>

<span class="n">loop</span> <span class="o">=</span> <span class="n">qc</span><span class="o">.</span><span class="n">Loop</span><span class="p">(</span><span class="n">qdac</span><span class="o">.</span><span class="n">ch01_v</span><span class="o">.</span><span class="n">sweep</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="n">N</span><span class="p">))</span><span class="o">.</span><span class="n">each</span><span class="p">(</span><span class="n">dmm</span><span class="o">.</span><span class="n">volt</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">loop</span><span class="o">.</span><span class="n">get_data_set</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;N_</span><span class="si">{}</span><span class="s1">_setget&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">N</span><span class="p">))</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">loop</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>  <span class="c1"># run the loop</span>

<span class="n">dmm</span><span class="o">.</span><span class="n">display_clear</span><span class="p">()</span>

</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Started at 2017-09-08 11:33:51
DataSet:
   location = &#39;data/2017-09-08/#013_N_1000_setget_11-33-51&#39;
   &lt;Type&gt;   | &lt;array_id&gt;      | &lt;array.name&gt; | &lt;array.shape&gt;
   Setpoint | qdac_ch01_v_set | ch01_v       | (1000,)
   Measured | dmm_volt        | volt         | (1000,)
Finished at 2017-09-08 11:34:23
Started at 2017-09-08 11:34:23
DataSet:
   location = &#39;data/2017-09-08/#014_N_1000_setget_11-34-23&#39;
   &lt;Type&gt;   | &lt;array_id&gt;      | &lt;array.name&gt; | &lt;array.shape&gt;
   Setpoint | qdac_ch01_v_set | ch01_v       | (1000,)
   Measured | dmm_volt        | volt         | (1000,)
Finished at 2017-09-08 11:34:55
Started at 2017-09-08 11:34:55
DataSet:
   location = &#39;data/2017-09-08/#015_N_1000_setget_11-34-55&#39;
   &lt;Type&gt;   | &lt;array_id&gt;      | &lt;array.name&gt; | &lt;array.shape&gt;
   Setpoint | qdac_ch01_v_set | ch01_v       | (1000,)
   Measured | dmm_volt        | volt         | (1000,)
Finished at 2017-09-08 11:35:27
Started at 2017-09-08 11:35:27
DataSet:
   location = &#39;data/2017-09-08/#016_N_1000_setget_11-35-27&#39;
   &lt;Type&gt;   | &lt;array_id&gt;      | &lt;array.name&gt; | &lt;array.shape&gt;
   Setpoint | qdac_ch01_v_set | ch01_v       | (1000,)
   Measured | dmm_volt        | volt         | (1000,)
Finished at 2017-09-08 11:35:59
Started at 2017-09-08 11:35:59
DataSet:
   location = &#39;data/2017-09-08/#017_N_1000_setget_11-35-59&#39;
   &lt;Type&gt;   | &lt;array_id&gt;      | &lt;array.name&gt; | &lt;array.shape&gt;
   Setpoint | qdac_ch01_v_set | ch01_v       | (1000,)
   Measured | dmm_volt        | volt         | (1000,)
Finished at 2017-09-08 11:36:32
Started at 2017-09-08 11:36:32
DataSet:
   location = &#39;data/2017-09-08/#018_N_1000_setget_11-36-32&#39;
   &lt;Type&gt;   | &lt;array_id&gt;      | &lt;array.name&gt; | &lt;array.shape&gt;
   Setpoint | qdac_ch01_v_set | ch01_v       | (1000,)
   Measured | dmm_volt        | volt         | (1000,)
Finished at 2017-09-08 11:37:04
Started at 2017-09-08 11:37:04
DataSet:
   location = &#39;data/2017-09-08/#019_N_1000_setget_11-37-04&#39;
   &lt;Type&gt;   | &lt;array_id&gt;      | &lt;array.name&gt; | &lt;array.shape&gt;
   Setpoint | qdac_ch01_v_set | ch01_v       | (1000,)
   Measured | dmm_volt        | volt         | (1000,)
Finished at 2017-09-08 11:37:36
Started at 2017-09-08 11:37:36
DataSet:
   location = &#39;data/2017-09-08/#020_N_1000_setget_11-37-36&#39;
   &lt;Type&gt;   | &lt;array_id&gt;      | &lt;array.name&gt; | &lt;array.shape&gt;
   Setpoint | qdac_ch01_v_set | ch01_v       | (1000,)
   Measured | dmm_volt        | volt         | (1000,)
Finished at 2017-09-08 11:38:08
32.2 s ± 110 ms per loop (mean ± std. dev. of 7 runs, 1 loop each)
</pre></div></div>
</div>
</div>
<div class="section" id="N-=-1000,-set-software-triggered">
<h2>N = 1000, set-software triggered<a class="headerlink" href="#N-=-1000,-set-software-triggered" title="Permalink to this headline">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">def</span> <span class="nf">software_triggered_readings</span><span class="p">(</span><span class="n">N</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Try to get N measurement points</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">dmm</span><span class="o">.</span><span class="n">display_text</span><span class="p">(</span><span class="s1">&#39;Sending </span><span class="si">{}</span><span class="s1"> software triggers&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">N</span><span class="p">))</span>

    <span class="n">dmm</span><span class="o">.</span><span class="n">trigger_source</span><span class="p">(</span><span class="s1">&#39;BUS&#39;</span><span class="p">)</span>
    <span class="n">dmm</span><span class="o">.</span><span class="n">sample_count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># samples per trigger</span>
    <span class="n">dmm</span><span class="o">.</span><span class="n">trigger_count</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>  <span class="c1"># number of triggers to wait for</span>
    <span class="n">dmm</span><span class="o">.</span><span class="n">init_measurement</span><span class="p">()</span>

    <span class="n">qdac_setpoints</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">N</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>
        <span class="n">qdac</span><span class="o">.</span><span class="n">ch01_v</span><span class="p">(</span><span class="n">qdac_setpoints</span><span class="p">[</span><span class="n">n</span><span class="p">])</span>
        <span class="n">dmm</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;*TRG&#39;</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">dmm</span><span class="o">.</span><span class="n">sample_timer_minimum</span><span class="p">())</span>  <span class="c1"># Wait to avoid losing triggers</span>

    <span class="c1"># even if we are losing triggers, can ABORt the measurement</span>
    <span class="c1"># and then fetch whatever data the DMM holds</span>
    <span class="n">dmm</span><span class="o">.</span><span class="n">abort_measurement</span><span class="p">()</span>
    <span class="n">raw_vals</span> <span class="o">=</span> <span class="n">dmm</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="s1">&#39;FETCH?&#39;</span><span class="p">)</span>
    <span class="n">dmm</span><span class="o">.</span><span class="n">display_clear</span><span class="p">()</span>

    <span class="n">numvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="n">raw_vals</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">))))</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Requested </span><span class="si">{}</span><span class="s1"> samples, got </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">numvals</span><span class="p">)))</span>

    <span class="k">return</span> <span class="n">numvals</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%%time</span>it

<span class="n">data</span> <span class="o">=</span> <span class="n">software_triggered_readings</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Requested 1000 samples, got 1000.
Requested 1000 samples, got 1000.
Requested 1000 samples, got 1000.
Requested 1000 samples, got 1000.
Requested 1000 samples, got 1000.
Requested 1000 samples, got 1000.
Requested 1000 samples, got 1000.
Requested 1000 samples, got 1000.
32.2 s ± 387 ms per loop (mean ± std. dev. of 7 runs, 1 loop each)
</pre></div></div>
</div>
</div>
</div>
<div class="section" id="Results-summary">
<h1>Results summary<a class="headerlink" href="#Results-summary" title="Permalink to this headline">¶</a></h1>
<p><strong>N = 1000</strong></p>
<p>Standard set-get: 32.2 s</p>
<p>Software triggered: 32.2 s</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Benchmark of waveform upload to AWG70002A.html" class="btn btn-neutral float-right" title="Benchmark of waveform upload to Tektronix AWG70002A" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Benchmark of Keithley 2600 lua script versus set-get.html" class="btn btn-neutral" title="Benchmark" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'0.1.11',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>