

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>qcodes.DataArray &mdash; QCoDeS 0.1.11 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="qcodes.Formatter" href="qcodes.Formatter.html" />
    <link rel="prev" title="qcodes.FormatLocation" href="qcodes.FormatLocation.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> QCoDeS
          

          
          </a>

          
            
            
              <div class="version">
                0.1.11
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../start/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../help.html">Get Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../community/index.html">Community Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dataset/index.html">DataSet</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Classes and Functions</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../public.html">Public</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../public.html#classes-and-functions">Classes and Functions</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../public.html#config">Config</a></li>
<li class="toctree-l4"><a class="reference internal" href="../public.html#station">Station</a></li>
<li class="toctree-l4"><a class="reference internal" href="../public.html#loops">Loops</a></li>
<li class="toctree-l4"><a class="reference internal" href="../public.html#measure">Measure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../public.html#actions">Actions</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../public.html#data">Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../public.html#instrument">Instrument</a></li>
<li class="toctree-l4"><a class="reference internal" href="../public.html#plot">Plot</a></li>
<li class="toctree-l4"><a class="reference internal" href="../public.html#utils-misc">Utils &amp; misc</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../private.html">Private</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="qcodes.instrument_drivers.html">qcodes.instrument_drivers package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../roadmap.html">Qcodes project plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changes/index.html">Changelogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/index.html">Examples of using QCoDeS</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">QCoDeS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Classes and Functions</a> &raquo;</li>
        
          <li><a href="../public.html">Public</a> &raquo;</li>
        
      <li>qcodes.DataArray</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/api/generated/qcodes.DataArray.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="qcodes-dataarray">
<h1>qcodes.DataArray<a class="headerlink" href="#qcodes-dataarray" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="qcodes.DataArray">
<em class="property">class </em><code class="descclassname">qcodes.</code><code class="descname">DataArray</code><span class="sig-paren">(</span><em>parameter=None</em>, <em>name=None</em>, <em>full_name=None</em>, <em>label=None</em>, <em>snapshot=None</em>, <em>array_id=None</em>, <em>set_arrays=()</em>, <em>shape=None</em>, <em>action_indices=()</em>, <em>unit=None</em>, <em>units=None</em>, <em>is_setpoint=False</em>, <em>preset_data=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/qcodes/data/data_array.html#DataArray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qcodes.DataArray" title="Permalink to this definition">¶</a></dt>
<dd><p>A container for one parameter in a measurement loop.</p>
<p>If this is a measured parameter, This object doesn’t contain
the data of the setpoints it was measured at, but it references
the DataArray objects of these parameters. Those objects only have
the dimensionality at which they were set - ie the inner loop setpoint
the same dimensionality as the measured parameter, but the outer
loop setpoint(s) have lower dimensionality</p>
<p>When it’s first created, a DataArray has no dimensionality, you must call
.nest for each dimension.</p>
<p>If preset_data is provided it is used to initialize the data, and the array
can still be nested around it (making many copies of the data).
Otherwise it is an error to nest an array that already has data.</p>
<p>Once the array is initialized, a DataArray acts a lot like a numpy array,
because we delegate attributes through to the numpy array</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>parameter</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="qcodes.Parameter.html#qcodes.Parameter" title="qcodes.Parameter"><em>Parameter</em></a><em>]</em>) – The parameter whose values will
populate this array, if any. Will copy <code class="docutils literal notranslate"><span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">full_name</span></code>,
<code class="docutils literal notranslate"><span class="pre">label</span></code>, <code class="docutils literal notranslate"><span class="pre">unit</span></code>, and <code class="docutils literal notranslate"><span class="pre">snapshot</span></code> from here unless you
provide them explicitly.</li>
<li><strong>name</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – The short name of this array.
TODO: use full_name as name, and get rid of short name</li>
<li><strong>full_name</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – The complete name of this array. If the
array is based on a parameter linked to an instrument, this is
typically ‘&lt;instrument_name&gt;_&lt;param_name&gt;’</li>
<li><strong>label</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – A description of the values in this array to
use for axis and colorbar labels on plots.</li>
<li><strong>snapshot</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a><em>]</em>) – Metadata snapshot to save with this array.</li>
<li><strong>array_id</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – A name for this array that’s unique within
its <code class="docutils literal notranslate"><span class="pre">DataSet</span></code>. Typically the full_name, but when the <code class="docutils literal notranslate"><span class="pre">DataSet</span></code>
is constructed we will append ‘_&lt;i&gt;’ (<code class="docutils literal notranslate"><span class="pre">i</span></code> is an integer starting
from 1) if necessary to differentiate arrays with the same id.
TODO: this only happens for arrays provided to the DataSet
constructor, not those added with add_array. Fix this!
Also, do we really need array_id <em>and</em> full_name (let alone name
but I’ve already said we should remove this)?</li>
<li><strong>set_arrays</strong> (<em>Optional</em><em>[</em><em>Tuple</em><em>[</em><a class="reference internal" href="#qcodes.DataArray" title="qcodes.DataArray"><em>DataArray</em></a><em>]</em><em>]</em>) – If this array is being
created with shape already, you can provide one setpoint array
per dimension. The first should have one dimension, the second
two dimensions, etc.</li>
<li><strong>shape</strong> (<em>Optional</em><em>[</em><em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em><em>]</em>) – The shape (as in numpy) of the array.
Will be prepended with new dimensions by any calls to <code class="docutils literal notranslate"><span class="pre">nest</span></code>.</li>
<li><strong>action_indices</strong> (<em>Optional</em><em>[</em><em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em><em>]</em>) – If used within a <code class="docutils literal notranslate"><span class="pre">Loop</span></code>,
these are the indices at each level of nesting within the
<code class="docutils literal notranslate"><span class="pre">Loop</span></code> of the loop action that’s populating this array.
TODO: this shouldn’t be in DataArray at all, the loop should
handle converting this to array_id internally (maybe it
already does?)</li>
<li><strong>unit</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – The unit of the values stored in this array.</li>
<li><strong>units</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – DEPRECATED, redirects to <code class="docutils literal notranslate"><span class="pre">unit</span></code>.</li>
<li><strong>is_setpoint</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – True if this is a setpoint array, False if it
is measured. Default False.</li>
<li><strong>preset_data</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><em>ndarray</em><em>, </em><em>sequence</em><em>]</em><em>]</em>) – Contents of the
array, if already known (for example if this is a setpoint
array). <code class="docutils literal notranslate"><span class="pre">shape</span></code> will be inferred from this array instead of
from the <code class="docutils literal notranslate"><span class="pre">shape</span></code> argument.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="qcodes.DataArray.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>parameter=None</em>, <em>name=None</em>, <em>full_name=None</em>, <em>label=None</em>, <em>snapshot=None</em>, <em>array_id=None</em>, <em>set_arrays=()</em>, <em>shape=None</em>, <em>action_indices=()</em>, <em>unit=None</em>, <em>units=None</em>, <em>is_setpoint=False</em>, <em>preset_data=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/qcodes/data/data_array.html#DataArray.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qcodes.DataArray.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#qcodes.DataArray.__init__" title="qcodes.DataArray.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>([parameter,&nbsp;name,&nbsp;full_name,&nbsp;…])</td>
<td>Initialize self.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">apply_changes</span></code>(start,&nbsp;stop,&nbsp;vals)</td>
<td>Insert new synced values into the array.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code>()</td>
<td>Fill the (already existing) data array with nan.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear_save</span></code>()</td>
<td>Make previously saved parts of this array look unsaved (modified).</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">flat_index</span></code>(indices[,&nbsp;index_fill])</td>
<td>Generate the raveled index for the given indices.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">fraction_complete</span></code>()</td>
<td>Get the fraction of this array which has data in it.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_changes</span></code>(synced_index)</td>
<td>Find changes since the last sync of this array.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_synced_index</span></code>()</td>
<td>Get the last index which has been synced from the server.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_data</span></code>([data])</td>
<td>Create the actual numpy array to hold data.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">mark_saved</span></code>(last_saved_index)</td>
<td>Mark certain outstanding modifications as saved.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">nest</span></code>(size[,&nbsp;action_index,&nbsp;set_array])</td>
<td>Nest this array inside a new outer loop.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">snapshot</span></code>([update])</td>
<td>JSON representation of this DataArray.</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">COPY_ATTRS_FROM_INPUT</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">SNAP_ATTRS</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">SNAP_OMIT_KEYS</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">data_set</span></code></td>
<td>The DataSet this array belongs to.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">delegate_attr_dicts</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">delegate_attr_objects</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">omit_delegate_attrs</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">units</span></code></td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="qcodes.Formatter.html" class="btn btn-neutral float-right" title="qcodes.Formatter" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="qcodes.FormatLocation.html" class="btn btn-neutral" title="qcodes.FormatLocation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'0.1.11',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>