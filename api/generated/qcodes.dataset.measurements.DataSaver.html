

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>qcodes.dataset.measurements.DataSaver &mdash; QCoDeS 0.1.11 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="qcodes.dataset.experiment_container.Experiment" href="qcodes.dataset.experiment_container.Experiment.html" />
    <link rel="prev" title="qcodes.dataset.measurements.Measurement" href="qcodes.dataset.measurements.Measurement.html" />
    <link href="../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> QCoDeS
          

          
          </a>

          
            
            
              <div class="version">
                0.1.11
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../start/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../help.html">Get Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../community/index.html">Community Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dataset/index.html">DataSet</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Classes and Functions</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../public.html">Public</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../public.html#classes-and-functions">Classes and Functions</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../public.html#config">Config</a></li>
<li class="toctree-l4"><a class="reference internal" href="../public.html#station">Station</a></li>
<li class="toctree-l4"><a class="reference internal" href="../public.html#loops">Loops</a></li>
<li class="toctree-l4"><a class="reference internal" href="../public.html#measure">Measure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../public.html#actions">Actions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../public.html#data">Data</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../public.html#dataset">DataSet</a></li>
<li class="toctree-l4"><a class="reference internal" href="../public.html#instrument">Instrument</a></li>
<li class="toctree-l4"><a class="reference internal" href="../public.html#plot">Plot</a></li>
<li class="toctree-l4"><a class="reference internal" href="../public.html#utils-misc">Utils &amp; misc</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../private.html">Private</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="qcodes.instrument_drivers.html">qcodes.instrument_drivers package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../roadmap.html">Qcodes project plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changes/index.html">Changelogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/index.html">Examples of using QCoDeS</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">QCoDeS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Classes and Functions</a> &raquo;</li>
        
          <li><a href="../public.html">Public</a> &raquo;</li>
        
      <li>qcodes.dataset.measurements.DataSaver</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/api/generated/qcodes.dataset.measurements.DataSaver.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="qcodes-dataset-measurements-datasaver">
<h1>qcodes.dataset.measurements.DataSaver<a class="headerlink" href="#qcodes-dataset-measurements-datasaver" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="qcodes.dataset.measurements.DataSaver">
<em class="property">class </em><code class="descclassname">qcodes.dataset.measurements.</code><code class="descname">DataSaver</code><span class="sig-paren">(</span><em>dataset: qcodes.dataset.data_set.DataSet, write_period: Union[float, int], parameters: Dict[str, qcodes.dataset.param_spec.ParamSpec]</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/qcodes/dataset/measurements.html#DataSaver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qcodes.dataset.measurements.DataSaver" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>The class used by the Runner context manager to handle the datasaving to
the database.</p>
<dl class="method">
<dt id="qcodes.dataset.measurements.DataSaver.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>dataset: qcodes.dataset.data_set.DataSet, write_period: Union[float, int], parameters: Dict[str, qcodes.dataset.param_spec.ParamSpec]</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../../_modules/qcodes/dataset/measurements.html#DataSaver.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qcodes.dataset.measurements.DataSaver.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#qcodes.dataset.measurements.DataSaver.__init__" title="qcodes.dataset.measurements.DataSaver.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(dataset,&nbsp;write_period,&nbsp;int],&nbsp;…)</td>
<td>Initialize self.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#qcodes.dataset.measurements.DataSaver.add_result" title="qcodes.dataset.measurements.DataSaver.add_result"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_result</span></code></a>(*res_tuple)</td>
<td>Add a result to the measurement results.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#qcodes.dataset.measurements.DataSaver.flush_data_to_database" title="qcodes.dataset.measurements.DataSaver.flush_data_to_database"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flush_data_to_database</span></code></a>()</td>
<td>Write the in-memory results to the database.</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#qcodes.dataset.measurements.DataSaver.dataset" title="qcodes.dataset.measurements.DataSaver.dataset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataset</span></code></a></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#qcodes.dataset.measurements.DataSaver.default_callback" title="qcodes.dataset.measurements.DataSaver.default_callback"><code class="xref py py-obj docutils literal notranslate"><span class="pre">default_callback</span></code></a></td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#qcodes.dataset.measurements.DataSaver.points_written" title="qcodes.dataset.measurements.DataSaver.points_written"><code class="xref py py-obj docutils literal notranslate"><span class="pre">points_written</span></code></a></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#qcodes.dataset.measurements.DataSaver.run_id" title="qcodes.dataset.measurements.DataSaver.run_id"><code class="xref py py-obj docutils literal notranslate"><span class="pre">run_id</span></code></a></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="qcodes.dataset.measurements.DataSaver.add_result">
<code class="descname">add_result</code><span class="sig-paren">(</span><em>*res_tuple</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../../_modules/qcodes/dataset/measurements.html#DataSaver.add_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qcodes.dataset.measurements.DataSaver.add_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a result to the measurement results. Represents a measurement
point in the space of measurement parameters, e.g. in an experiment
varying two voltages and measuring two currents, a measurement point
is the four dimensional (v1, v2, c1, c2). The corresponding call
to this function would be (e.g.)
&gt;&gt; datasaver.add_result((v1, 0.1), (v2, 0.2), (c1, 5), (c2, -2.1))</p>
<p>For better performance, this function does not immediately write to
the database, but keeps the results in memory. Writing happens every
<cite>write_period</cite> seconds and during the __exit__ method if this class.</p>
<p>Regarding arrays: since arrays as binary blobs are (almost) worthless
in a relational database, this function “unravels” arrays passed to it.
That, in turn, forces us to impose rules on what can be saved in one
go. Any number of scalars and any number of arrays OF THE SAME LENGTH
can be passed to add_result. The scalars are duplicated to match the
arrays.</p>
<p>However, if the parameter is registered as array type the numpy arrays
are not unraveled but stored directly for improved performance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>res_tuple</strong> – a tuple with the first element being the parameter name
and the second element is the corresponding value(s) at this
measurement point. The function takes as many tuples as there
are results.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – if a parameter name not registered in the parent
Measurement object is encountered.</li>
<li><code class="xref py py-exc docutils literal notranslate"><span class="pre">ParameterTypeError</span></code> – if a parameter is given a value not matching
its type.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="qcodes.dataset.measurements.DataSaver.dataset">
<code class="descname">dataset</code><a class="headerlink" href="#qcodes.dataset.measurements.DataSaver.dataset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="qcodes.dataset.measurements.DataSaver.default_callback">
<code class="descname">default_callback</code><em class="property"> = None</em><a class="headerlink" href="#qcodes.dataset.measurements.DataSaver.default_callback" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="qcodes.dataset.measurements.DataSaver.flush_data_to_database">
<code class="descname">flush_data_to_database</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../../_modules/qcodes/dataset/measurements.html#DataSaver.flush_data_to_database"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qcodes.dataset.measurements.DataSaver.flush_data_to_database" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the in-memory results to the database.</p>
</dd></dl>

<dl class="attribute">
<dt id="qcodes.dataset.measurements.DataSaver.points_written">
<code class="descname">points_written</code><a class="headerlink" href="#qcodes.dataset.measurements.DataSaver.points_written" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="qcodes.dataset.measurements.DataSaver.run_id">
<code class="descname">run_id</code><a class="headerlink" href="#qcodes.dataset.measurements.DataSaver.run_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="qcodes.dataset.experiment_container.Experiment.html" class="btn btn-neutral float-right" title="qcodes.dataset.experiment_container.Experiment" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="qcodes.dataset.measurements.Measurement.html" class="btn btn-neutral float-left" title="qcodes.dataset.measurements.Measurement" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>